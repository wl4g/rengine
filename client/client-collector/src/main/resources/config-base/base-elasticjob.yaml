# Copyright (c) 2017 ~ 2025, the original authors individual Inc,
# All rights reserved. Contact us James Wong <jameswong1376@gmail.com>
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# #### Elastic Job configuration. ####
#

## see:org.apache.shardingsphere.elasticjob.lite.spring.boot.job.ElasticJobBootstrapConfiguration
## see:org.apache.shardingsphere.elasticjob.lite.spring.boot.job.ElasticJobLiteAutoConfiguration
elasticjob:
  enabled: ${rengine.client.collector.enabled:false}
  regCenter:
    serverLists: ${rengine.client.collector.zookeeper.quorumServers:localhost:2181}
    namespace: ${rengine.client.collector.zookeeper.namespace:rengine}
    #baseSleepTimeMilliseconds:
    #maxSleepTimeMilliseconds:
    #maxRetries:
    #sessionTimeoutMilliseconds:
    #connectionTimeoutMilliseconds:
    #digest:
  tracing:
    type: RDB
    includeJobNames: [httpScrapeJob, scriptScrapeJob]
    #excludeJobNames:
  dump:
    enabled: true
    port: 9888
  jobs:
    httpScrapeJob:
      elasticJobClass: com.wl4g.rengine.client.collector.job.HttpScrapeJob
      #elasticJobType:
      disabled: false
      overwrite: true
      cron: ${rengine.client.collector.jobs.httpScrapeJob.cron:'0/30 * * * * ?'}
      timeZone: ${rengine.client.collector.jobs.httpScrapeJob.timeZone:'GMT+08:00'}
      shardingTotalCount: ${rengine.client.collector.jobs.httpScrapeJob.shardingTotalCount:1}
      shardingItemParameters: ${rengine.client.collector.jobs.httpScrapeJob.shardingItemParameters:'0=Beijing,1=Shanghai'}
      #monitorExecution:
      #failover:
      #misfire:
      #maxTimeDiffSeconds:
      #reconcileIntervalMinutes:
      description: The job that scrapes events remote over HTTP.
      props: ${rengine.client.collector.jobs.httpScrapeJob.props}
    scriptScrapeJob:
      elasticJobClass: com.wl4g.rengine.client.collector.job.ScriptScrapeJob
      #elasticJobType:
      disabled: false
      overwrite: true
      cron: ${rengine.client.collector.jobs.scriptScrapeJob.cron:'0/30 * * * * ?'}
      timeZone: ${rengine.client.collector.jobs.scriptScrapeJob.timeZone:'GMT+08:00'}
      shardingTotalCount: ${rengine.client.collector.jobs.scriptScrapeJob.shardingTotalCount:1}
      shardingItemParameters: ${rengine.client.collector.jobs.scriptScrapeJob.shardingItemParameters:'0=Beijing,1=Shanghai'}
      #monitorExecution:
      #failover:
      #misfire:
      #maxTimeDiffSeconds:
      #reconcileIntervalMinutes:
      description: The job that scrapes events by executing SSH2 remote commands.
      props: ${rengine.client.collector.jobs.scriptScrapeJob.props}
